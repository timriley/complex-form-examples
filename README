This solution uses the accepts_nested_attributes_for which was introduced in Rails 2.3. It supports any level of depth in nesting models. This version uses unobtrusive JavaScript with jQuery and HTML 5 and Rails 3 and Ruby 1.9.2.

It adds an example to allow you to manage many-to-many relationships with a JQuery multi-select with search and the ability to add new values.

SETUP

  git clone git://github.com/bbuchalter/complex-form-examples.git
  cd complex_-form-examples
  git checkout -b unobtrusive-jquery-deep-rails3 origin/unobtrusive-jquery-deep-rails3  #switch branches
  gem install bundler #only if you're using RVM
  bundle install
  rake db:migrate
  rake db:seed
  rails server



Special thanks to Tim Riley and Eloy Duran.